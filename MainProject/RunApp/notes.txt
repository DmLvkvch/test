Васильев Д.С. (102319) [21.04.2020 16:03]:
привет

посмотрел проекты. все работает так, как надо!

теперь это надо немного причесать. согласись, в данном виде это не очень удобно использовать, потому что если ты захочешь что-то изменить в интерфейсных классах, тебе придется это обновлять в обоих проектах

на данном этапе ты будешь решать задачи архитектора ПО (вообще говоря, это обязанность тимлида)

предлагаю объединить эти 2 проекта в один со следующими условиями
- основной проект содержит 2 подпроекта - запуск приложения и сборка либ плагинов
- подпроект сборки либ в свою очередь состоит из подпроектов непосредственных плагинов
- проект сборки либ должен быть легко масштабируемый (то есть если мы захотим создать новый плагин, то в pro/pri файле его добавлем и он включается в сборку)
- интерфейсные классы и структуры (message, settingsitem, ...) хранятся в отдельной папке/подпроекте/либе, который подключается к каждому плагину и в проект запуска приложения. ключевое условие: они должны все лежать в одном месте и не должны дублироваться
- место, куда кладутся либы плагинов после сборки, должно быть определено на этапе сборки
например: ты знаешь, что бинарь с запуском приложений кладется в папку ./buildProxy/ например. тогда либы можно положить в ./buildProxy/libs/, чтобы на этапе запуска приложения, оно уже знало, где искать эти либы
все подобные места, где идет обращение по заданным путям, необходимо оборачивать в дефайны. при этом абсолютных путей быть не должно! это потом очень сложно отловить
- необходимо помнить про кроссплатформенность! например, я собирал под линуксом. чтобы либа подгрузилась, мне пришлось ее скопировать, положить рядом с бинарем и подпатчить QString path = "./libpluginlib.so";
расширения должны быть обернуты в дефайны и проверены макросами #ifdef Q_OS_LINUX ...
- когда у тебя будет папка, куда собираются все либы (buildProxy/libs/) необходимо пытаться подгружать всё ее содержимое. сейчас у тебя пока подгружается только одна. то есть необходимо отвязаться от конкретного пути к библиотеке, а рассчитывать его в рантайме. QDir в помощь
- функция create в plugin.h сделана, но не сделано delete(*PluginIFace)
возможно понадобится удалять либы в рантайме. да в любом случае, если есть new, сразу должен быть delete

от того, насколько удобным мы сейчас продумаем архитектуру, будет во многом зависеть дальнейшая наша работа над проектом
так что тут необходимо делать все максимально гибко, масштабируемо и параметризируемо. это непросто, но если получится, то ты неплохо прокачаешься

будут вопросы или непонятные моменты - пиши, не стесняйся
Васильев Д.С. (102319) [21.04.2020 16:05]:
если тебе кажется, что некоторые моменты ты можешь сделать лучше/удобнее/с бОльшей возможностью для масштабирования - я буду только рад)ildProxy/ нап